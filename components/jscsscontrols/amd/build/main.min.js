define ("tepuycomponents_jscsscontrols/main",["jquery"],function(a){'use strict';return{init:function init(b){a(".banner-top").parents(".no-overflow").removeClass("no-overflow");a(".tepuy-menucontroler").on("mouseover touchstart",function fn_effect(){var b=a(this),c=b.parents(".box_resources");if(0==c.length){return}var d=a(c[0]);d.find(".selected").removeClass("selected");d.find("[data-rel]").hide();d.find("[data-rel=\""+b.attr("data-type")+"\"]").show();b.addClass("selected")});a(".tepuy-menucontroler").on("touchend",function(){var b=a("[data-rel=\""+a(this).attr("data-type")+"\"]");a("html, body").animate({scrollTop:b.offset().top},500)});if(0<a(".attachedimages").length){var c=a("<div class=\"tepuy-sliderimages\"></div>");c.insertBefore(a(".attachedimages")[0])}a(".attachedimages img").each(function(){var b=a(this);c.append(b)});a(".tepuy-sliderimages").each(function(){var b=a(this);console.log(b);b.find("br").remove();b.find("img").first().addClass("active");var c=function(){var a=b.find("img.active"),c=a.next("img");a.removeClass("active");if(0<c.length){c.addClass("active")}else{b.find("img").first().addClass("active")}},d=function(){var a=b.find("img.active"),c=a.prev("img");a.removeClass("active");if(0<c.length){c.addClass("active")}else{b.find("img").last().addClass("active")}};if(1<b.find("img").length){b.find("img").on("click",c);var e=a("<div class=\"slide-control\" data-action=\"before\">&#60;</div>");e.on("click",d);b.append(e);var f=a("<div class=\"slide-control\" data-action=\"after\">&#62;</div>");f.on("click",c);b.append(f)}else if(0==b.find("img").length){b.hide()}});a("completion.complete").parents(".completion-parent").addClass("complete");a("completion.incomplete").parents(".completion-parent").addClass("incomplete");a("[tepuy-toggle]").on("click",function(){var b=a(this),c=b.attr("tepuy-toggle"),d=b.attr("tepuy-target");a(d).toggleClass(c)});a(".tepuy-accordion").each(function(){var b=a(this);b.find("> div").addClass("closed");b.find("> div > h3").each(function(){var c=a(this),d=c.parent(),e=d.find("> div");c.on("click",function(){var a=!1;if(d.hasClass("opened")){a=!0}b.find("> div.opened > div").hide(400);b.find("> div.opened").removeClass("opened").addClass("closed");if(a){d.removeClass("opened").addClass("closed");e.hide(400)}else{d.removeClass("closed").addClass("opened");e.show(400)}})})});a(".tepuy-transition").on("click",function(b){b.preventDefault();var c=a(this),d=a(c.attr("data-show")),e=a(c.attr("data-hide")),f=c.attr("data-transition"),g=c.attr("data-duration")?parseInt(c.attr("data-duration")):400;if(f){e.hide(g,f,function(){d.show(g,f)})}else{e.hide();d.show()}});a(".tepuy-wf").each(function(){var b=a(this);if(0<b.parents(".editor_atto_wrap").length){return}b.wrapInner("<div class='tepuy-body'></div>");var c="";if(b.attr("data-property-width")){c+="width:"+b.attr("data-property-width")+";"}if(b.attr("data-property-height")){c+="height:"+b.attr("data-property-height")+";"}var d=a("<div class=\"tepuy-close\">X</div>");d.on("click",function(){b.hide({effect:"slide",direction:"down"})});if(""!=c){b.attr("style",c)}b.append(d);b.hide()});a(".tepuy-wf-controller").on("click",function(){var b=a(this),c=b.attr("data-property-width"),d=b.attr("data-property-height");if(0<b.parents(".editor_atto_wrap").length){return}var e=a(b.attr("data-content"));if(c){e.css("width",c)}if(d){e.css("height",d)}console.log(e);e.show({effect:"slide",direction:"down"})});a(".tepuy-w").each(function(){var c=a(this);if(c.parents("[data-fieldtype=\"editor\"]")&&0<c.parents("[data-fieldtype=\"editor\"]").length){return}c.wrapInner("<div class='tepuy-body tepuy-body-w'></div>");if(c.attr("data-tepuy-showentry")||c.attr("data-tepuy-showconcept")){var d={};if(c.attr("data-tepuy-showentry")){d.eid=c.attr("data-tepuy-showentry")}else if(c.attr("data-tepuy-showconcept")&&b){d.concept=c.attr("data-tepuy-showconcept");d.courseid=b}a.get(M.cfg.wwwroot+"/mod/glossary/showentry_ajax.php",d,function(a){if(a.entries&&0<Object.keys(a.entries).length){var b="";Object.keys(a.entries).forEach(function(c){if(a.entries[c].definition){b=a.entries[c].definition}});c.find(".tepuy-body").html(b)}},"json")}else if(c.attr("data-tepuy-innerentry")){if(0<c.find("a.glossary.autolink").length){a.get(c.find("a.glossary.autolink").attr("href").replace("showentry.php","showentry_ajax.php"),function(a){if(a.entries&&0<a.entries.length){c.find(".tepuy-body").html(a.entries[0].definition)}},"json");c.attr("title",c.find("a.glossary.autolink").attr("title"))}}else if(c.attr("data-tepuy-innerautolink")){if(0<c.find("a.autolink").length){var e=c.find("a.autolink").attr("href")+"&inpopup=true";c.find("a.autolink").hide();var f=a("<iframe></iframe>");f.attr("src",e);f.on("load",function(){f.contents().find("a:not([target])").attr("target","_top")});c.find(".tepuy-body").append(f);c.attr("title",c.find("a.autolink").html())}}c.hide()});a(".tepuy-w-controller").on("click",function(b){b.preventDefault();var c=a(this);if(c.parents("[data-fieldtype=\"editor\"]")&&0<c.parents("[data-fieldtype=\"editor\"]").length){return}var d=c.data("dialogue");if(!d){var e=c.attr("data-property-width"),f=c.attr("data-property-height"),g=a(c.attr("data-content")+" .tepuy-body"),i={center:!0,modal:!0,visible:!1,draggable:!1,width:"auto",height:"auto",autofillheight:"header",bodyContent:g};if(e){if(0<=e.indexOf("%")){var j=a(window).width(),k=+e.replace("%","");if(!isNaN(k)&&0<k){e=k*j/100}}i.width=e}if(f){if(0<=f.indexOf("%")){var l=a(window).height(),m=+f.replace("%","");if(!isNaN(m)&&0<m){f=m*l/100}}i.height=f}var d=new M.core.dialogue(i);c.data("dialogue",d)}d.show()});a(".tepuy-openinmodal").each(function(){var b=a(this);if(b.parents("[data-fieldtype=\"editor\"]")&&0<b.parents("[data-fieldtype=\"editor\"]").length){return}b.find("a").each(function(){this.removeAttribute("onclick")});b.find("a").on("click",function(c){c.preventDefault();var d=a(this),e=d.data("dialogue");if(!e){var f=b.attr("data-property-width"),g=b.attr("data-property-height"),i=d.attr("href")+"&inpopup=true",j=a("<iframe class=\"tepuy-openinmodal-container\"></iframe>");j.attr("src",i);j.on("load",function(){j.contents().find("a:not([target])").attr("target","_top")});var k=a.fn.hide;a.fn.hide=function(){this.trigger("hide");return k.apply(this,arguments)};var l=a("<div></div>");l.append(j);var m={center:!0,modal:!0,visible:!1,draggable:!0,width:"90vw",height:"90vh",autofillheight:"header",bodyContent:l};if(f){if(0<=f.indexOf("%")){var n=a(window).width(),o=+f.replace("%","");if(!isNaN(o)&&0<o){f=o*n/100}}m.width=f}if(g){if(0<=g.indexOf("%")){var p=a(window).height(),q=+g.replace("%","");if(!isNaN(q)&&0<q){g=q*p/100}}m.height=g}var e=new M.core.dialogue(m);d.data("dialogue",e);e.after("visibleChange",function(a){if("visible"===a.attrName){if(a.prevVal&&!a.newVal){j.contents().find("video, audio").each(function(){this.pause()})}}},e)}e.show()})});a(".tepuy-mouse-over").on("mouseover",function(){var b=a(this),c=a(b.data("ref"));c.show(200,"swing")});a(".tepuy-mouse-over").on("mouseout",function(){var b=a(this),c=a(b.data("ref"));c.hide(200,"swing")});a("img[tepuy-over]").on("mouseover",function(){var b=a(this);b.attr("original-src",b.attr("src"));b.attr("src",b.attr("tepuy-over"))});a("img[tepuy-over]").on("mouseout",function(){var b=a(this);b.attr("src",b.attr("original-src"))})}}});
//# sourceMappingURL=main.min.js.map
